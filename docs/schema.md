# Schema

Schemas define the fields on your entity, their types, and how they are mapped internally to Redis:

```javascript
let schema = new Schema(Album, {
  artist: { type: 'string' },
  title: { type: 'string' },
  year: { type: 'number' },
  genres: { type: 'array' },
  outOfPublication: { type: 'boolean' }
});
```

When you create a `Schema`, it modifies the entity you handed it, adding getters and setters for the properties you define. The following types are available:

| Type      | Description          |
|-----------|----------------------|
| `string`  | Defines a string.    |
| `number`  | Floats and integers. |
| `boolean` | True or false.       |
| `array`   | An array of strings. |

Inside of Redis, this schema will map to a [Redis Hash](https://redis.io/commands#hash). The fields in that Hash will be the field names specified in the `Schema`. If you want to override the field names in Redis, you can add the `alias` property and give it a different name:

```javascript
  ...
  outOfPublication: { type: 'boolean', alias: 'outOfPub' }
  ...
```

The Hashes themselves will be stored under a unique key. That key consists of a prefix matching the name of the entity and an uniquely generated entity ID. The entity ID is generated by Redis ÅŒM as a [ULID](https://github.com/ulid/spec). ULIDs are like UUIDs but more human-friendly.

In our example the key for an `Album` would look like:

    Album:01FJX4SMD9YVK5HBTQ3ZAVRAKQ

You can override both the prefix for your entity and the mechanism by which you generate the entity ID when you define the schema:

```javascript
let schema = new Schema(Album, {
  artist: { type: 'string' },
  title: { type: 'string' },
  year: { type: 'number' },
  genres: { type: 'array' },
  outOfPublication: { type: 'boolean' }
}, {
  prefix: 'record',
  idStrategy: () => Math.random().toString().substr(2, 8)
});
```

Please note that the function I provided in the idStrategy property is garbage. DO NOT USE IT. That said, the above configuration would result in the key in Redis for an `Album` to be something like:

    record:67573051



Also by default this schema will map to a [Redis Hash](https://redis.io/commands#hash). The fields in that Hash will be the field names specified in the `Schema`. If you want to override the field names in Redis, you can add the `alias` property and give it a different name:

```javascript
  ...
  outOfPublication: { type: 'boolean', alias: 'outOfPub' }
  ...
```

